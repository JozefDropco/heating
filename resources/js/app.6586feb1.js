(function(e){function t(t){for(var n,i,s=t[0],l=t[1],c=t[2],d=0,p=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&p.push(r[i][0]),r[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(t);while(p.length)p.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],n=!0,s=1;s<a.length;s++){var l=a[s];0!==r[l]&&(n=!1)}n&&(o.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},r={app:0},o=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("cd49")},"06b4":function(e,t,a){"use strict";var n=a("9959"),r=a.n(n);r.a},"20be":function(e,t,a){"use strict";var n=a("5402"),r=a.n(n);r.a},"2c22":function(e,t,a){"use strict";var n=a("51de"),r=a.n(n);r.a},"51de":function(e,t,a){},5402:function(e,t,a){},6579:function(e,t,a){},"97cb":function(e,t,a){var n={"./bounce.css":"3d49","./bounceIn.css":"0a58","./bounceInDown.css":"a4a9","./bounceInLeft.css":"5965","./bounceInRight.css":"da80","./bounceInUp.css":"b60e","./bounceOut.css":"f39d","./bounceOutDown.css":"a9b5","./bounceOutLeft.css":"06dd","./bounceOutRight.css":"66bc","./bounceOutUp.css":"908f","./fadeIn.css":"1070","./fadeInDown.css":"1625","./fadeInDownBig.css":"9338","./fadeInLeft.css":"0c2e","./fadeInLeftBig.css":"f357","./fadeInRight.css":"ef8f","./fadeInRightBig.css":"747a","./fadeInUp.css":"e7fb","./fadeInUpBig.css":"b8af","./fadeOut.css":"25cd","./fadeOutDown.css":"93ea","./fadeOutDownBig.css":"c888","./fadeOutLeft.css":"5f1d","./fadeOutLeftBig.css":"a555","./fadeOutRight.css":"8934","./fadeOutRightBig.css":"9438","./fadeOutUp.css":"351b","./fadeOutUpBig.css":"23a5","./flash.css":"58a5","./flip.css":"bda0","./flipInX.css":"58b8","./flipInY.css":"5902","./flipOutX.css":"72c5","./flipOutY.css":"b8ad","./headShake.css":"2289","./hinge.css":"085e","./jello.css":"8014","./lightSpeedIn.css":"eb7d","./lightSpeedOut.css":"d043","./pulse.css":"ab98","./rollIn.css":"dc73","./rollOut.css":"592c","./rotateIn.css":"487d","./rotateInDownLeft.css":"bf6b","./rotateInDownRight.css":"7b96","./rotateInUpLeft.css":"89f8","./rotateInUpRight.css":"cb8c","./rotateOut.css":"de65","./rotateOutDownLeft.css":"8134","./rotateOutDownRight.css":"1ea7","./rotateOutUpLeft.css":"63d1","./rotateOutUpRight.css":"fcc3","./rubberBand.css":"aab2","./shake.css":"15f1","./slideInDown.css":"79ea","./slideInLeft.css":"a963","./slideInRight.css":"3b76","./slideInUp.css":"21e3","./slideOutDown.css":"abed","./slideOutLeft.css":"f857","./slideOutRight.css":"0a43","./slideOutUp.css":"5706","./swing.css":"b968","./tada.css":"3391","./wobble.css":"ed5b","./zoomIn.css":"38f3","./zoomInDown.css":"2577","./zoomInLeft.css":"1992","./zoomInRight.css":"ef68","./zoomInUp.css":"97a1","./zoomOut.css":"cc15","./zoomOutDown.css":"2ac6","./zoomOutLeft.css":"1fd4","./zoomOutRight.css":"fa2f","./zoomOutUp.css":"91e5"};function r(e){var t=o(e);return a(t)}function o(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=o,e.exports=r,r.id="97cb"},9959:function(e,t,a){},a4ac:function(e,t,a){},b3e4:function(e,t,a){},bc9a:function(e,t,a){"use strict";var n=a("b3e4"),r=a.n(n);r.a},cd49:function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("f751"),a("097d");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("q-layout",{attrs:{view:"hhr Lpr lff"}},[a("q-layout-header",[a("q-toolbar",{attrs:{color:"primary"}},[a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"menu"},on:{click:function(t){e.menuShown=!e.menuShown}}}),a("q-toolbar-title",[a("router-link",{attrs:{to:"/"}},[e._v("\n            Inteligentný dom\n          ")])],1)],1)],1),a("q-layout-drawer",{attrs:{overlay:!1,width:150,value:e.menuShown,side:"left"}},[a("left-menu")],1),a("q-page-container",[a("router-view")],1)],1)],1)},o=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-list",{attrs:{highlight:""}},[a("q-list-header",[e._v(e._s(e.$t("menu")))]),a("q-item",{attrs:{to:"/ServiceMode"}},[e._v(e._s(e.$t("menu_serviceMenu")))]),a("q-item",{attrs:{to:"/Watering"}},[e._v(e._s(e.$t("menu_wateringMenu")))]),a("q-item",{attrs:{to:"/Solar"}},[e._v(e._s(e.$t("menu_solarMenu")))]),a("q-item",{attrs:{to:"/Temperature"}},[e._v(e._s(e.$t("menu_temperatureMenu")))])],1)},s=[],l=a("60a3"),c=l["a"].extend({name:"LeftMenu"}),u=c,d=a("2877"),p=Object(d["a"])(u,i,s,!1,null,null,null),m=p.exports,f=n["default"].extend({name:"app",data:function(){return{menuShown:!0}},components:{LeftMenu:m},methods:{}}),h=f,b=Object(d["a"])(h,r,o,!1,null,null,null),v=b.exports,g=(a("a4ac"),a("2826"),a("7e57"),a("e083")),w=a("8c4f"),y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"marginLeft5rem marginTop5rem"},[a("q-toggle",{attrs:{label:e.$t("serviceModeState")},model:{value:e.state,callback:function(t){e.state=t},expression:"state"}}),a("div",[a("br"),a("br"),a("q-card",{staticClass:"marginLeft5rem",attrs:{inline:""}},[a("q-card-title",[e._v("\n        "+e._s(e.$t("serviceModeInputs"))+"\n      ")]),a("q-card-separator"),a("q-card-main",e._l(e.inputPins,(function(t,n){return a("div",{key:n},[a("q-toggle",{staticClass:"paddingBottom",attrs:{disable:"true",label:t.name},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"input.value"}})],1)})),0)],1),a("q-card",{staticClass:"marginLeft5rem",attrs:{inline:""}},[a("q-card-title",[e._v("\n        "+e._s(e.$t("serviceModeOutputs"))+"\n      ")]),a("q-card-separator"),a("q-card-main",e._l(e.outputPins,(function(t,n){return a("div",{key:n},[a("q-toggle",{staticClass:"paddingBottom",attrs:{disable:!e.state,label:t.name},on:{input:function(a){return e.toggleOutputState(t)}},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"output.value"}})],1)})),0)],1)],1)],1)},S=[],k=(a("7f7f"),a("0d6d"),Object.freeze({BASE_URL:"ws/"})),x=a("bc3a"),q=a.n(x);a("75ab");var I=l["a"].extend({data:function(){return{state:!1,refreshIntervalId:null,outputPins:[],inputPins:[]}},methods:{loadCurrentState:function(){var e=this;q.a.get(k.BASE_URL+"serviceMode").then((function(t){e.state=t.data.state})).catch((function(e){alert(e)})),q.a.get(k.BASE_URL+"port/outputs").then((function(t){for(var a=0;a<t.data.length;a++){for(var n=!1,r=0;r<e.outputPins.length;r++)e.outputPins[r]["refcd"]===t.data[a].refcd&&(e.outputPins[r]["value"]="true"===t.data[a].value,n=!0);n||e.outputPins.push({refcd:t.data[a].refcd,name:t.data[a].name,value:"true"===t.data[a].value})}})).catch((function(e){alert(e)})),q.a.get(k.BASE_URL+"port/inputs").then((function(t){for(var a=0;a<t.data.length;a++){for(var n=!1,r=0;r<e.inputPins.length;r++)e.inputPins[r]["refcd"]===t.data[a].refcd&&(e.inputPins[r]["value"]="true"===t.data[a].value,n=!0);n||e.inputPins.push({refcd:t.data[a].refcd,name:t.data[a].name,value:"true"===t.data[a].value})}})).catch((function(e){alert(e)}))},handleStateChange:function(){var e=this;g["a"].show(),q.a.post(k.BASE_URL+"serviceMode?state="+this.state).then((function(t){e.state=t.data.state,g["a"].hide()})).catch((function(e){g["a"].hide(),alert(e)}))},toggleOutputState:function(e){var t=this;g["a"].show(),q.a.post(k.BASE_URL+"port/output/"+e.refcd,e.value,{headers:{"Content-Type":"application/json"}}).then((function(e){for(var a=0;a<e.data.length;a++)for(var n=0;n<t.outputPins.length;n++)t.outputPins[n].refcd===e.data[a]&&(t.outputPins[n].value=!1);g["a"].hide()})).catch((function(e){g["a"].hide(),alert(e)}))}},watch:{state:function(){this.handleStateChange()}},mounted:function(){this.loadCurrentState(),this.refreshIntervalId=setInterval(this.loadCurrentState,1e3)},beforeDestroy:function(){clearInterval(this.refreshIntervalId)}}),_=I,D=(a("20be"),Object(d["a"])(_,y,S,!1,null,null,null)),O=D.exports,M=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"marginLeft5rem marginTop5rem"},[a("q-table",{attrs:{pagination:e.pagination,dense:"true",selection:"single",selected:e.rowSelected,title:e.$t("menu_wateringMenu"),data:e.tableData,columns:e.columns,"row-key":"id"},on:{"update:pagination":function(t){e.pagination=t},"update:selected":function(t){e.rowSelected=t}},scopedSlots:e._u([{key:"top-right",fn:function(t){return[a("q-btn",{attrs:{icon:"edit",label:"Upraviť"},on:{click:e.editWatering}}),a("q-btn",{attrs:{icon:"add",label:"Pridať"},on:{click:e.addWatering}})]}}])})],1)},C=[],R=(a("6b54"),a("f576"),a("a925")),P=a("1321"),U=a.n(P);n["default"].use(U.a),n["default"].use(R["a"]),n["default"].component("apexchart",U.a);var L=new R["a"]({locale:"sk",fallbackLocale:"en",messages:{sk:{menu:"Menu",menu_serviceMenu:"Servisné menu",serviceModeState:"Stav servisného módu",serviceModeOutputs:"Výstupy",serviceModeInputs:"Vstupy",menu_wateringMenu:"Zavlažovanie",wateringId:"Identifikátor",wateringActive:"Aktívny",wateringZoneRefCd:"Raspberry Pin",wateringName:"Názov zóny",wateringModulo:"Cyklus opakovania",wateringReminder:"Deň v rámci cyklu",wateringTime:"1. čas polievania",wateringRetryTime:"2. pokus o polievanie",wateringDuration:"Dĺžka polievania",temperature:"Teplota",menu_temperatureMenu:"Teploty",menu_solarMenu:"Solár",save:"Uložiť"},en:{menu:"Menu",menu_serviceMenu:"Service menu",serviceModeState:"State of service mode",serviceModeOutputs:"Outputs",serviceModeInputs:"Inputs",menu_wateringMenu:"Watering",wateringId:"Identifier",wateringActive:"Active",wateringZoneRefCd:"Raspebrry Pin",wateringName:"Zone name",wateringModulo:"Repeat cycle",wateringReminder:"Day within cycle",wateringTime:"1st watering time",wateringRetryTime:"Retry time",wateringDuration:"Watering duration",temperature:"Temperature",menu_temperatureMenu:"Temperatures",menu_solarMenu:"Solar",save:"Save"}}});a("75ab");var $=l["a"].extend({data:function(){return{tableData:[],inputPins:[],pagination:{sortBy:null,descending:!1,page:1,rowsPerPage:10},rowSelected:[]}},computed:{columns:function(){return"sk"===L.locale?[{name:"Id",required:!0,label:"Id",align:"left",field:"id",sortable:!0},{name:"RefCd",required:!0,label:"Unikátny identifikátor",align:"left",field:"zoneRefCode",sortable:!0},{name:"Name",required:!0,label:"Meno",align:"left",field:"name",sortable:!0},{name:"Mod",required:!0,label:"Modulo",align:"left",field:"modulo",sortable:!0},{name:"Reminder",required:!0,label:"Deň",align:"left",field:"reminder",sortable:!0},{name:"firstTime",required:!0,label:"1. čas",align:"left",field:function(e){return e.hour.toString().padStart(2,"0")+":"+e.minute.toString().padStart(2,"0")},sortable:!0,style:"width: 50px"},{name:"secondTime",required:!0,label:"2. čas",align:"left",field:function(e){return void 0!==e.retryHour?void 0!==e.retryMinute?e.retryHour.toString().padStart(2,"0")+":"+e.retryMinute.toString().padStart(2,"0"):e.retryHour.toString().padStart(2,"0")+":"+e.minute.toString().padStart(2,"0"):void 0!==e.retryMinute?e.hour.toString().padStart(2,"0")+":"+e.retryMinute.toString().padStart(2,"0"):""},sortable:!0},{name:"duration",required:!0,label:"Trvanie",align:"left",field:function(e){var t=e.timeInSeconds,a=t%60;if(t-=a,t/=60,0===t)return a+"s";var n=t%60;return t-=n,t/=60,0===t&&a>0?n+"min "+a+"s":0===t?n+"min":t+"h "+n+"min "+a+"s"},sortable:!0},{name:"active",required:!0,label:"Aktívne",align:"left",field:function(e){return e.active?"Áno":"Nie"},sortable:!0}]:[{name:"Id",required:!0,label:"Identifier",align:"left",field:"id",sortable:!0}]}},methods:{loadCurrentState:function(){var e=this;g["a"].show(),q.a.get(k.BASE_URL+"watering").then((function(t){e.tableData=t.data,g["a"].hide()})).catch((function(e){g["a"].hide(),alert(e)}))},editWatering:function(){this.$router.push({path:"/Watering/".concat(this.rowSelected[0].id)})},addWatering:function(){this.$router.push({path:"/addWatering"})}},mounted:function(){this.loadCurrentState()}}),z=$,T=(a("2c22"),Object(d["a"])(z,M,C,!1,null,null,null)),B=T.exports,A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-tabs",{attrs:{inverted:"",animated:"",swipeable:"",glossy:"",align:"justify"}},[a("q-tab",{attrs:{slot:"title",default:"",name:"temp",label:"Teploty"},slot:"title"}),a("q-tab",{attrs:{slot:"title",name:"solar",label:"Kolektory"},slot:"title"}),a("q-tab",{attrs:{slot:"title",name:"watering",label:"Zavlažovanie"},slot:"title"}),a("q-tab",{attrs:{slot:"title",name:"heating",label:"Kúrenie"},slot:"title"}),a("q-tab-pane",{attrs:{name:"temp"}},[a("div",{staticStyle:{"margin-top":"20px"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6 q-pl-lg q-pb-lg"},[a("q-datetime",{attrs:{"float-label":"Od dátumu",type:"date"},on:{change:e.loadCurrentState},model:{value:e.fromDate,callback:function(t){e.fromDate=t},expression:"fromDate"}})],1),a("div",{staticClass:"col-6 q-pl-lg q-pb-lg"},[a("q-datetime",{attrs:{"float-label":"Do dátumu",type:"date"},on:{change:e.loadCurrentState},model:{value:e.toDate,callback:function(t){e.toDate=t},expression:"toDate"}})],1)]),a("apexchart",{attrs:{options:e.tempOptions,series:e.tempSeries}})],1)]),a("q-tab-pane",{attrs:{name:"solar"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6 q-pl-lg q-pb-lg"},[a("apexchart",{attrs:{height:"450px",width:"450px",options:e.posOptions,series:e.posSeries}})],1),a("div",{staticClass:"col-6 q-pl-lg q-pb-lg"},[a("q-checkbox",{attrs:{disable:"",label:"Jas"},model:{value:e.enoughLight,callback:function(t){e.enoughLight=t},expression:"enoughLight"}}),a("br"),a("q-checkbox",{attrs:{disable:"",label:"Silný vietor"},model:{value:e.strongWind,callback:function(t){e.strongWind=t},expression:"strongWind"}})],1)])]),a("q-tab-pane",{attrs:{name:"watering"}},[e._v("Bolo raz jedno zavlazovanie :D")]),a("q-tab-pane",{attrs:{name:"heating"}},[e._v("Bolo raz jedno kurenie :D")])],1)},E=[],j=l["a"].extend({data:function(){return{refreshIntervalId:null,tempSeries:[],tempOptions:{chart:{type:"line",stacked:!1,height:350,zoom:{type:"x",enabled:!0,autoScaleYaxis:!0},toolbar:{autoSelected:"zoom"}},dataLabels:{enabled:!1},markers:{size:0},title:{text:"Teplota",align:"left"},yaxis:{type:"number",title:{text:"Teplota"}},xaxis:{type:"datetime",labels:{format:"dd. MM. yyyy"},minHeight:120,maxHeight:120},legend:{position:"top"},tooltip:{x:{show:!0,format:"dd. MM. yyyy HH:mm"}}},enoughLight:!1,strongWind:!1,posSeries:[],posOptions:{chart:{type:"scatter",stacked:!1,height:350,toolbar:{show:!1}},dataLabels:{enabled:!1},markers:{size:15},title:{text:"Pozícia kolektorov",align:"left"},grid:{xaxis:{lines:{show:!1}},yaxis:{lines:{show:!1}}},yaxis:{type:"number",show:!1,min:-135,max:0},xaxis:{type:"number",show:!1,min:-280,max:0,axisBorder:{show:!1},axisTicks:{show:!1},labels:{show:!1}},annotations:{yaxis:[{y:-63,strokeDashArray:0,borderColor:"#333",fillColor:"#c2c2c2",opacity:.8,offsetX:0,offsetY:0}],xaxis:[{x:-140,strokeDashArray:0,borderColor:"#333",fillColor:"#c2c2c2",opacity:.8,offsetX:0,offsetY:0}],points:[{x:-280,y:-62.5,marker:{size:0},label:{text:"Západ",textAnchor:"start"}},{x:0,y:-62.5,marker:{size:0},label:{text:"Východ",textAnchor:"end"}},{x:-140,y:-0,marker:{size:0},label:{text:"Sever"}},{x:-140,y:-135,marker:{size:0},label:{text:"Juh"}}]},tooltip:{custom:function(e){return"<div> Východ/Západ:   "+e.w.globals.seriesX[e.seriesIndex][e.dataPointIndex]+"<br/>Sever/Juh: "+e.w.globals.series[e.seriesIndex][e.dataPointIndex]+"</div>"}}},fromDate:new Date,toDate:new Date}},methods:{loadCurrentState:function(){var e=this;g["a"].show();var t=this.fromDate.toISOString().slice(0,10),a=new Date(this.toDate);a.setDate(a.getDate()+1);var n=a.toISOString().slice(0,10);q.a.get(k.BASE_URL+"temp?from="+t+"&to="+n).then((function(t){e.tempSeries=t.data,g["a"].hide()})).catch((function(e){g["a"].hide(),alert(e)})),q.a.get(k.BASE_URL+"solar/daylight").then((function(t){e.enoughLight=t.data,g["a"].hide()})).catch((function(e){g["a"].hide(),alert(e)})),q.a.get(k.BASE_URL+"solar/strongWind").then((function(t){e.strongWind=t.data,g["a"].hide()})).catch((function(e){g["a"].hide(),alert(e)})),q.a.get(k.BASE_URL+"solar/currentPosition").then((function(t){e.posSeries.splice(0);var a=new Object;a["name"]="Aktuálna pozícia",a["data"]=[t.data],e.posSeries.push(a),g["a"].hide()})).catch((function(e){g["a"].hide(),alert(e)}))}},mounted:function(){var e=new Date;e.setDate(this.fromDate.getDate()-7),this.fromDate=e,this.loadCurrentState(),this.refreshIntervalId=setInterval(this.loadCurrentState,5e3)},beforeDestroy:function(){clearInterval(this.refreshIntervalId)}}),H=j,W=Object(d["a"])(H,A,E,!1,null,null,null),Z=W.exports,F=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"marginLeft5rem marginTop5rem"},[a("q-checkbox",{attrs:{label:e.$t("wateringActive")},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}}),a("q-input",{attrs:{"stack-label":e.$t("wateringZoneRefCd")},model:{value:e.zoneRefCode,callback:function(t){e.zoneRefCode=t},expression:"zoneRefCode"}}),a("q-input",{attrs:{"stack-label":e.$t("wateringName")},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),a("q-input",{attrs:{type:"number","stack-label":e.$t("wateringModulo")},model:{value:e.modulo,callback:function(t){e.modulo=t},expression:"modulo"}}),a("q-input",{attrs:{type:"number","stack-label":e.$t("wateringReminder")},model:{value:e.reminder,callback:function(t){e.reminder=t},expression:"reminder"}}),a("q-input",{attrs:{"stack-label":e.$t("wateringDuration")},model:{value:e.timeInSeconds,callback:function(t){e.timeInSeconds=t},expression:"timeInSeconds"}}),a("q-input",{attrs:{"stack-label":e.$t("wateringTime")},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}}),a("q-input",{attrs:{"stack-label":e.$t("wateringRetryTime")},model:{value:e.retryTime,callback:function(t){e.retryTime=t},expression:"retryTime"}}),a("br"),a("q-btn",{attrs:{icon:"save",label:e.$t("save")},on:{click:e.saveWatering}})],1)},N=[];a("28a5");a("75ab");var J=new Date(2017,2,7,0,0,0,0),V=l["a"].extend({data:function(){return{reminder:0,modulo:1,time:null,zoneRefCode:"",timeInSeconds:null,retryTime:null,active:!0,name:""}},computed:{},methods:{saveWatering:function(){g["a"].show();var e={};e.id=this.$route.params.wId,e.name=this.name,e.zoneRefCode=this.zoneRefCode,e.active=this.active,e.modulo=this.modulo,e.reminder=this.reminder,e.timeInSeconds=60*parseInt(this.timeInSeconds.split(":")[0])+parseInt(this.timeInSeconds.split(":")[1]),e.hour=parseInt(this.time.split(":")[0]),e.minute=parseInt(this.time.split(":")[1]),e.retryHour=null===this.retryTime?null:parseInt(this.retryTime.split(":")[0]),e.retryMinute=null===this.retryTime?null:parseInt(this.retryTime.split(":")[1]),q.a.put(k.BASE_URL+"watering/"+this.$route.params.wId,e).then((function(e){g["a"].hide()})).catch((function(e){g["a"].hide(),alert(e)}))},loadCurrentState:function(){var e=this;g["a"].show(),q.a.get(k.BASE_URL+"watering/"+this.$route.params.wId).then((function(t){var a=t.data;e.name=a.name,e.zoneRefCode=a.zoneRefCode,e.timeInSeconds=a.timeInSeconds,e.active=a.active,e.modulo=a.modulo,e.reminder=a.reminder,e.timeInSeconds=g["b"].formatDate(g["b"].addToDate(J,{seconds:a.timeInSeconds}),"mm:ss"),e.time=g["b"].formatDate(g["b"].addToDate(J,{hours:a.hour,minutes:a.minute}),"HH:mm"),void 0===a.retryHour&&void 0===a.retryMinute||(void 0!==a.retryHour&&(a.retryHour=a.hour),void 0!==a.retryMinute&&(a.retryMinute=a.minute),e.retryTime=g["b"].formatDate(g["b"].addToDate(J,{hours:a.retryHour,minutes:a.retryMinute}),"HH:mm")),g["a"].hide()})).catch((function(e){g["a"].hide(),alert(e)}))}},mounted:function(){this.loadCurrentState()}}),Y=V,X=(a("ce2f"),Object(d["a"])(Y,F,N,!1,null,null,null)),K=X.exports,G=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"margin-top":"20px"}},[a("q-table",{attrs:{color:"primary",dense:"",title:"Meracie miesta",selected:e.selected,selection:"single","row-key":"refCd",data:e.data,columns:e.columns},on:{"update:selected":function(t){e.selected=t}},scopedSlots:e._u([{key:"top-right",fn:function(t){return[a("q-btn",{attrs:{icon:"delete",disable:0===e.selected.length,label:"Vymazať"},on:{click:e.deleteMeasurePlace}}),a("q-btn",{attrs:{disable:0===e.freeDeviceIds.length,icon:"add",label:"Pridať"},on:{click:function(t){e.addPopupDisplayed=!0}}})]}},{key:"body",fn:function(t){return a("q-tr",{attrs:{props:t}},[a("q-td",{attrs:{"auto-width":""}},[a("q-checkbox",{attrs:{dense:""},model:{value:t.selected,callback:function(a){e.$set(t,"selected",a)},expression:"props.selected"}})],1),a("q-td",{key:"name",attrs:{props:t}},[e._v("\n        "+e._s(t.row.name)+"\n        "),a("q-popup-edit",{ref:"editName",attrs:{title:"Upraviť",buttons:"","label-set":"Uložiť","label-cancel":"Zavrieť"},on:{save:function(a,n){return e.editMeasureplace(t.row)}},model:{value:t.row.name,callback:function(a){e.$set(t.row,"name",a)},expression:"props.row.name"}},[a("q-input",{attrs:{"float-label":"Pomenovanie"},model:{value:t.row.name,callback:function(a){e.$set(t.row,"name",a)},expression:"props.row.name"}})],1)],1),a("q-td",{key:"refCd",attrs:{props:t}},[e._v(e._s(t.row.refCd))]),a("q-td",{key:"deviceId",attrs:{props:t}},[e._v("\n        "+e._s(t.row.deviceId)+"\n        "),a("q-popup-edit",{attrs:{title:"Upraviť",buttons:"","label-set":"Uložiť","label-cancel":"Zavrieť"},on:{save:function(a,n){return e.editMeasureplace(t.row)}},model:{value:t.row,callback:function(a){e.$set(t,"row",a)},expression:"props.row"}},[a("q-select",{attrs:{"stack-label":"ID zariadenia",options:e.freeDeviceIds},model:{value:t.row.deviceId,callback:function(a){e.$set(t.row,"deviceId",a)},expression:"props.row.deviceId"}})],1)],1)],1)}}])}),a("q-modal",{model:{value:e.addPopupDisplayed,callback:function(t){e.addPopupDisplayed=t},expression:"addPopupDisplayed"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-toolbar-title",[e._v("\n          Pridať meracie miesto\n        ")])],1),a("div",{staticClass:"layout-padding"},[a("q-input",{attrs:{"stack-label":"Meno",value:e.name}}),a("q-select",{attrs:{"stack-label":"ID zariadenia",options:e.freeDeviceIds,value:e.name}}),a("br"),a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{color:"primary",label:"Uložiť"},on:{click:function(t){return e.saveMeasureplace()}}}),a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{color:"primary",label:"Zavrieť"}})],1)],1)],1)],1)},Q=[],ee=l["a"].extend({data:function(){return{name:"",refCd:"",deviceId:"",selected:[],freeDeviceIds:[],addPopupDisplayed:!1,tempSeries:[],options:{chart:{type:"line",stacked:!1,height:350,zoom:{type:"x",enabled:!0,autoScaleYaxis:!0},toolbar:{autoSelected:"zoom"}},dataLabels:{enabled:!1},markers:{size:0},title:{text:"Teplota",align:"left"},yaxis:{type:"number",title:{text:"Teplota"}},xaxis:{type:"datetime",labels:{format:"dd. MM. yyyy"},minHeight:120,maxHeight:120},legend:{position:"top"},tooltip:{x:{show:!0,format:"dd. MM. yyyy HH:mm"}}},fromDate:new Date,toDate:new Date,columns:[{name:"name",label:"Pomenovanie meracieho miesta",align:"left",field:"name",sortable:!0},{name:"refCd",label:"Unikátny kľúč",align:"left",field:"refCd",sortable:!0},{name:"deviceId",label:"ID zariadenia",align:"left",field:"deviceId",sortable:!0}],data:[]}},methods:{loadCurrentState:function(){var e=this;g["a"].show(),q.a.get(k.BASE_URL+"temp/measurePlace").then((function(t){e.data=t.data,g["a"].hide()})).catch((function(e){g["a"].hide(),alert(e)})),q.a.get(k.BASE_URL+"temp/freeDeviceIds").then((function(t){e.freeDeviceIds=t.data,g["a"].hide()})).catch((function(e){g["a"].hide(),alert(e)}))},saveMeasureplace:function(){var e=this,t={};t["name"]=this.name,t["deviceId"]=this.deviceId,q.a.post(k.BASE_URL+"temp/measurePlace",t,{method:"post"}).then((function(t){e.loadCurrentState()})).catch((function(e){alert(e)}))},editMeasureplace:function(e){var t=this;q.a.put(k.BASE_URL+"temp/measurePlace/"+e.refCd,e,{method:"PUT"}).then((function(e){t.loadCurrentState()})).catch((function(e){alert(e)}))},deleteMeasurePlace:function(){var e=this;q.a.delete(k.BASE_URL+"temp/measurePlace/"+this.selected[0].refCd).then((function(t){e.loadCurrentState()})).catch((function(e){alert(e)}))}},mounted:function(){var e=new Date;e.setDate(this.fromDate.getDate()-7),this.fromDate=e,this.loadCurrentState()}}),te=ee,ae=(a("bc9a"),Object(d["a"])(te,G,Q,!1,null,null,null)),ne=ae.exports,re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"marginLeft5rem marginTop5rem"},[a("q-select",{attrs:{options:e.selectOptions,"float-label":"Upraviť pre"},model:{value:e.modifyFor,callback:function(t){e.modifyFor=t},expression:"modifyFor"}}),"month"===e.modifyFor?a("q-select",{attrs:{options:e.monthsOptions,"float-label":"Mesiac"},on:{input:e.loadCurrentState},model:{value:e.month,callback:function(t){e.month=t},expression:"month"}}):e._e(),"day"===e.modifyFor?a("q-datetime",{attrs:{"float-label":"Dátum",type:"date"},on:{change:e.loadCurrentState},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}}):e._e(),a("br"),"day"===e.modifyFor||"month"===e.modifyFor&&null!==e.month?a("q-table",{attrs:{selection:"single",selected:e.rowSelected,data:e.tableData,pagination:e.serverPagination,columns:e.columns,"row-key":"id"},on:{"update:selected":function(t){e.rowSelected=t},"update:pagination":function(t){e.serverPagination=t}},scopedSlots:e._u([{key:"top-right",fn:function(t){return[a("q-btn",{attrs:{icon:"delete",disable:0===e.rowSelected.length,label:"Vymazať"},on:{click:e.deleteSolar}}),a("q-btn",{attrs:{icon:"add",label:"Pridať",disable:""},on:{click:function(t){e.addSolarEntry=!0}}})]}},{key:"body",fn:function(t){return a("q-tr",{attrs:{props:t}},[a("q-td",{attrs:{"auto-width":""}},[a("q-checkbox",{attrs:{dense:""},model:{value:t.selected,callback:function(a){e.$set(t,"selected",a)},expression:"props.selected"}})],1),a("q-td",{key:"hour",attrs:{props:t}},[e._v("\n        "+e._s(t.row.hour)+"\n      ")]),a("q-td",{key:"minute",attrs:{props:t}},[e._v("\n        "+e._s(t.row.minute)+"\n      ")]),a("q-td",{key:"ignore",attrs:{props:t}},[a("q-checkbox",{attrs:{disable:""},model:{value:t.row.ignore,callback:function(a){e.$set(t.row,"ignore",a)},expression:"props.row.ignore"}}),a("q-popup-edit",{attrs:{title:"Upraviť",buttons:"","label-set":"Uložiť","label-cancel":"Zavrieť"},on:{save:function(a,n){return e.editSolar(t.row)}},model:{value:t.row.ignore,callback:function(a){e.$set(t.row,"ignore",a)},expression:"props.row.ignore"}},[a("q-checkbox",{model:{value:t.row.ignore,callback:function(a){e.$set(t.row,"ignore",a)},expression:"props.row.ignore"}})],1)],1),a("q-td",{key:"hor",attrs:{props:t}},[e._v("\n        "+e._s(t.row.hor)+"\n        "),a("q-popup-edit",{attrs:{title:"Upraviť",buttons:"","label-set":"Uložiť","label-cancel":"Zavrieť"},on:{save:function(a,n){return e.editSolar(t.row)}},model:{value:t.row.hor,callback:function(a){e.$set(t.row,"hor",a)},expression:"props.row.hor"}},[a("q-slider",{attrs:{min:-135,max:1,"label-always":""},model:{value:t.row.hor,callback:function(a){e.$set(t.row,"hor",a)},expression:"props.row.hor"}})],1)],1),a("q-td",{key:"vert",attrs:{props:t}},[e._v("\n        "+e._s(t.row.vert)+"\n        "),a("q-popup-edit",{attrs:{title:"Upraviť",buttons:"","label-set":"Uložiť","label-cancel":"Zavrieť"},on:{save:function(a,n){return e.editSolar(t.row)}},model:{value:t.row.vert,callback:function(a){e.$set(t.row,"vert",a)},expression:"props.row.vert"}},[a("q-slider",{attrs:{min:-280,max:1,"label-always":""},model:{value:t.row.vert,callback:function(a){e.$set(t.row,"vert",a)},expression:"props.row.vert"}})],1)],1)],1)}}],null,!1,3543285084)}):e._e()],1)},oe=[];a("75ab");var ie=l["a"].extend({data:function(){return{modifyFor:null,month:null,date:null,serverPagination:{page:1,rowsNumber:50},monthsOptions:[{label:"Január",value:"1"},{label:"Február",value:"2"},{label:"Marec",value:"3"},{label:"Apríl",value:"4"},{label:"Máj",value:"5"},{label:"Jún",value:"6"},{label:"Júl",value:"7"},{label:"August",value:"8"},{label:"September",value:"9"},{label:"Október",value:"10"},{label:"November",value:"11"},{label:"December",value:"12"}],selectOptions:[{label:"Celý mesiac",value:"month"},{label:"Deň",value:"day"}],tableData:[],inputPins:[],pagination:{sortBy:null,descending:!1,page:1,rowsPerPage:10},rowSelected:[],columns:[{name:"hour",required:!0,label:"Hodina",align:"left",field:"hour",sortable:!0},{name:"minute",required:!0,label:"Minúta",align:"left",field:"minute",sortable:!0},{name:"ignore",required:!0,label:"Ignorovať jas",align:"left",field:"ignore",sortable:!0},{name:"hor",required:!0,label:"Horizontálne",align:"left",field:"hor",sortable:!0},{name:"vert",required:!0,label:"Vertikálne",align:"left",field:"vert",sortable:!0}]}},methods:{loadCurrentState:function(){var e=this;g["a"].show();var t=k.BASE_URL+"solar";t="day"===this.modifyFor&&null!==this.date?t+"?date="+this.date.slice(0,10):t+"?month="+this.month,q.a.get(t).then((function(t){e.tableData=t.data,g["a"].hide()})).catch((function(e){g["a"].hide(),alert(e)}))},editSolar:function(e){var t=this,a=k.BASE_URL+"solar";a="day"===this.modifyFor&&null!==this.date?a+"?date="+this.date.slice(0,10):a+"?month="+this.month,g["a"].show(),q.a.put(k.BASE_URL+"solar/cmd/update",e,{method:"PUT"}).then((function(e){t.loadCurrentState(),g["a"].hide()})).catch((function(e){g["a"].hide(),alert(e)}))},deleteSolar:function(){var e=this,t=k.BASE_URL+"solar";t="day"===this.modifyFor&&null!==this.date?t+"?date="+this.date.slice(0,10):t+"?month="+this.month,g["a"].show(),q.a.post(k.BASE_URL+"solar/cmd/delete",this.rowSelected,{method:"POST"}).then((function(t){e.loadCurrentState(),g["a"].hide()})).catch((function(e){g["a"].hide(),alert(e)}))}},mounted:function(){}}),se=ie,le=(a("06b4"),Object(d["a"])(se,re,oe,!1,null,null,null)),ce=le.exports;n["default"].use(w["a"]);var ue=new w["a"]({routes:[{path:"/ServiceMode",name:"servicemode",component:O},{path:"/Watering",name:"watering",component:B},{path:"/Solar",name:"solar",component:ce},{path:"/Temperature",name:"temperature",component:ne},{path:"/Watering/:wId",name:"edit_watering",component:K},{path:"*",name:"empty",component:Z}]});n["default"].use(g["c"],{config:{}}),n["default"].config.productionTip=!1,new n["default"]({router:ue,i18n:L,render:function(e){return e(v)}}).$mount("#app")},ce2f:function(e,t,a){"use strict";var n=a("6579"),r=a.n(n);r.a}});
//# sourceMappingURL=app.6586feb1.js.map