import{Q as $,a as C}from"./QBreadcrumbs-jZRV3jE-.js";import{Q as x,a as j,b as y,c as I}from"./QTabPanels-BBbol_10.js";import{u as B,a as L,b as M,Q as O,_ as w,P as d}from"./_plugin-vue_export-helper-BsH4dlGH.js";import{e as N,f as Q,h as U,i,j as r,k as u,l as m,m as s,p as b,F as V,q as k,s as g,u as v,v as T}from"./index-m4Lflbw8.js";import{Q as S,a as p}from"./QCard-Cecu7SEl.js";import{a as f}from"./index-NIGUFBhG.js";import"./selection-BDbhJi07.js";import"./touch-BjYP5sR0.js";const P=N({name:"QToggle",props:{...B,icon:String,iconColor:String},emits:L,setup(t){function e(a,n){const o=Q(()=>(a.value===!0?t.checkedIcon:n.value===!0?t.indeterminateIcon:t.uncheckedIcon)||t.icon),_=Q(()=>a.value===!0?t.iconColor:null);return()=>[U("div",{class:"q-toggle__track"}),U("div",{class:"q-toggle__thumb absolute flex flex-center no-wrap"},o.value!==void 0?[U(O,{name:o.value,color:_.value})]:void 0)]}return M("toggle",e)}}),q={data(){return{state:!1,refreshIntervalId:null,outputPins:[],inputPins:[],active:!1}},methods:{loadCurrentState(){f.get("ws/solar/serviceMode").then(t=>{this.state=t.data.state}).catch(t=>{console.log(t)}),f.get("ws/solar/port/outputs").then(t=>{for(let a=0;a<t.data.length;a++){var e=!1;for(let n=0;n<this.outputPins.length;n++)this.outputPins[n].refcd===t.data[a].refcd&&(this.outputPins[n].value=t.data[a].value==="true",this.outputPins[n].url=t.data[a].url,e=!0);e||this.outputPins.push({refcd:t.data[a].refcd,name:t.data[a].name,value:t.data[a].value==="true",url:t.data[a].url})}}).catch(t=>{console.log(t)}),f.get("ws/solar/port/inputs").then(t=>{for(let a=0;a<t.data.length;a++){var e=!1;for(let n=0;n<this.inputPins.length;n++)this.inputPins[n].refcd===t.data[a].refcd&&(this.inputPins[n].value=t.data[a].value==="true",this.inputPins[n].url=t.data[a].url,e=!0);e||this.inputPins.push({refcd:t.data[a].refcd,name:t.data[a].name,value:t.data[a].value==="true",url:t.data[a].url})}}).catch(t=>{console.log(t)}),this.active&&setTimeout(this.loadCurrentState,1e3)},handleStateChange(t){d.show(),this.state=t,f.post("ws/solar/serviceMode?state="+t).then(e=>{this.state=e.data.state,d.hide()}).catch(e=>{d.hide(),console.log(e)})},toggleOutputState(t){d.show(),f.post("ws/solar/port/output/"+t.refcd,t.value,{headers:{"Content-Type":"application/json"}}).then(e=>{for(let a=0;a<e.data.length;a++)for(let n=0;n<this.outputPins.length;n++)this.outputPins[n].refcd===e.data[a]&&(this.outputPins[n].value=!1);d.hide()}).catch(e=>{d.hide(),console.log(e)})}},mounted(){this.active=!0,this.loadCurrentState()},beforeUnmount(){this.active=!1}},E={class:"marginLeft5rem marginTop5rem"},D=["href"],F={key:1},H=["href"],K={key:1};function W(t,e,a,n,o,_){return r(),i("div",E,[u(P,{modelValue:o.state,"onUpdate:modelValue":e[0]||(e[0]=l=>o.state=l),label:"Stav servisného módu",onInput:_.handleStateChange},null,8,["modelValue","onInput"]),m("div",null,[e[5]||(e[5]=m("br",null,null,-1)),e[6]||(e[6]=m("br",null,null,-1)),u(S,{inline:"",class:"marginLeft5rem"},{default:s(()=>[u(p,null,{default:s(()=>e[1]||(e[1]=[b(" Vstupy ",-1)])),_:1,__:[1]}),e[2]||(e[2]=m("br",null,null,-1)),u(p,null,{default:s(()=>[(r(!0),i(V,null,k(o.inputPins,(l,c)=>(r(),i("div",{key:c},[u(P,{class:"paddingBottom",modelValue:l.value,"onUpdate:modelValue":h=>l.value=h,disable:!0},{default:s(()=>[l.url!=="#"?(r(),i("a",{key:0,href:l.url,target:"_blank"},v(l.name),9,D)):g("",!0),l.url==="#"?(r(),i("span",F,v(l.name),1)):g("",!0)]),_:2},1032,["modelValue","onUpdate:modelValue"])]))),128))]),_:1})]),_:1,__:[2]}),u(S,{inline:"",class:"marginLeft5rem"},{default:s(()=>[u(p,null,{default:s(()=>e[3]||(e[3]=[b(" Výstupy ",-1)])),_:1,__:[3]}),e[4]||(e[4]=m("br",null,null,-1)),u(p,null,{default:s(()=>[(r(!0),i(V,null,k(o.outputPins,(l,c)=>(r(),i("div",{key:c},[u(P,{class:"paddingBottom",modelValue:l.value,"onUpdate:modelValue":h=>l.value=h,disable:!o.state,onInput:h=>_.toggleOutputState(l)},{default:s(()=>[l.url!=="#"?(r(),i("a",{key:0,href:l.url,target:"_blank"},v(l.name),9,H)):g("",!0),l.url==="#"?(r(),i("span",K,v(l.name),1)):g("",!0)]),_:2},1032,["modelValue","onUpdate:modelValue","disable","onInput"])]))),128))]),_:1})]),_:1,__:[4]})])])}const Z=w(q,[["render",W]]),z={data(){return{state:!1,refreshIntervalId:null,outputPins:[],inputPins:[],active:!1}},methods:{loadCurrentState(){f.get("ws/watering/serviceMode").then(t=>{this.state=t.data.state}).catch(t=>{console.log(t)}),f.get("ws/watering/port/outputs").then(t=>{for(let a=0;a<t.data.length;a++){var e=!1;for(let n=0;n<this.outputPins.length;n++)this.outputPins[n].refcd===t.data[a].refcd&&(this.outputPins[n].value=t.data[a].value==="true",this.outputPins[n].url=t.data[a].url,e=!0);e||this.outputPins.push({refcd:t.data[a].refcd,name:t.data[a].name,value:t.data[a].value==="true",url:t.data[a].url})}}).catch(t=>{console.log(t)}),f.get("ws/watering/port/inputs").then(t=>{for(let a=0;a<t.data.length;a++){var e=!1;for(let n=0;n<this.inputPins.length;n++)this.inputPins[n].refcd===t.data[a].refcd&&(this.inputPins[n].value=t.data[a].value==="true",this.inputPins[n].url=t.data[a].url,e=!0);e||this.inputPins.push({refcd:t.data[a].refcd,name:t.data[a].name,value:t.data[a].value==="true",url:t.data[a].url})}}).catch(t=>{console.log(t)}),this.active&&setTimeout(this.loadCurrentState,1e3)},handleStateChange(t){d.show(),this.state=t,f.post("ws/watering/serviceMode?state="+t).then(e=>{this.state=e.data.state,d.hide()}).catch(e=>{d.hide(),console.log(e)})},toggleOutputState(t){d.show(),f.post("ws/watering/port/output/"+t.refcd,t.value,{headers:{"Content-Type":"application/json"}}).then(e=>{for(let a=0;a<e.data.length;a++)for(let n=0;n<this.outputPins.length;n++)this.outputPins[n].refcd===e.data[a]&&(this.outputPins[n].value=!1);d.hide()}).catch(e=>{d.hide(),console.log(e)})}},mounted(){this.active=!0,this.loadCurrentState()},beforeUnmount(){this.active=!1}},A={class:"marginLeft5rem marginTop5rem"},G=["href"],J={key:1},R=["href"],X={key:1};function Y(t,e,a,n,o,_){return r(),i("div",A,[u(P,{modelValue:o.state,"onUpdate:modelValue":e[0]||(e[0]=l=>o.state=l),label:"Stav servisného módu",onInput:_.handleStateChange},null,8,["modelValue","onInput"]),m("div",null,[e[5]||(e[5]=m("br",null,null,-1)),e[6]||(e[6]=m("br",null,null,-1)),u(S,{inline:"",class:"marginLeft5rem"},{default:s(()=>[u(p,null,{default:s(()=>e[1]||(e[1]=[b(" Vstupy ",-1)])),_:1,__:[1]}),e[2]||(e[2]=m("br",null,null,-1)),u(p,null,{default:s(()=>[(r(!0),i(V,null,k(o.inputPins,(l,c)=>(r(),i("div",{key:c},[u(P,{class:"paddingBottom",modelValue:l.value,"onUpdate:modelValue":h=>l.value=h,disable:!0},{default:s(()=>[l.url!=="#"?(r(),i("a",{key:0,href:l.url,target:"_blank"},v(l.name),9,G)):g("",!0),l.url==="#"?(r(),i("span",J,v(l.name),1)):g("",!0)]),_:2},1032,["modelValue","onUpdate:modelValue"])]))),128))]),_:1})]),_:1,__:[2]}),u(S,{inline:"",class:"marginLeft5rem"},{default:s(()=>[u(p,null,{default:s(()=>e[3]||(e[3]=[b(" Výstupy ",-1)])),_:1,__:[3]}),e[4]||(e[4]=m("br",null,null,-1)),u(p,null,{default:s(()=>[(r(!0),i(V,null,k(o.outputPins,(l,c)=>(r(),i("div",{key:c},[u(P,{class:"paddingBottom",modelValue:l.value,"onUpdate:modelValue":h=>l.value=h,disable:!o.state,onInput:h=>_.toggleOutputState(l)},{default:s(()=>[l.url!=="#"?(r(),i("a",{key:0,href:l.url,target:"_blank"},v(l.name),9,R)):g("",!0),l.url==="#"?(r(),i("span",X,v(l.name),1)):g("",!0)]),_:2},1032,["modelValue","onUpdate:modelValue","disable","onInput"])]))),128))]),_:1})]),_:1,__:[4]})])])}const tt=w(z,[["render",Y]]),et={data(){return{state:!1,refreshIntervalId:null,outputPins:[],inputPins:[],active:!1}},methods:{loadCurrentState(){f.get("ws/heating/serviceMode").then(t=>{this.state=t.data.state}).catch(t=>{console.log(t)}),f.get("ws/heating/port/outputs").then(t=>{for(let a=0;a<t.data.length;a++){var e=!1;for(let n=0;n<this.outputPins.length;n++)this.outputPins[n].refcd===t.data[a].refcd&&(this.outputPins[n].value=t.data[a].value==="true",this.outputPins[n].url=t.data[a].url,e=!0);e||this.outputPins.push({refcd:t.data[a].refcd,name:t.data[a].name,value:t.data[a].value==="true",url:t.data[a].url})}}).catch(t=>{console.log(t)}),f.get("ws/heating/port/inputs").then(t=>{for(let a=0;a<t.data.length;a++){var e=!1;for(let n=0;n<this.inputPins.length;n++)this.inputPins[n].refcd===t.data[a].refcd&&(this.inputPins[n].value=t.data[a].value==="true",this.inputPins[n].url=t.data[a].url,e=!0);e||this.inputPins.push({refcd:t.data[a].refcd,name:t.data[a].name,value:t.data[a].value==="true",url:t.data[a].url})}}).catch(t=>{console.log(t)}),this.active&&setTimeout(this.loadCurrentState,1e3)},handleStateChange(t){d.show(),this.state=t,f.post("ws/heating/serviceMode?state="+t).then(e=>{this.state=e.data.state,d.hide()}).catch(e=>{d.hide(),console.log(e)})},toggleOutputState(t){d.show(),f.post("ws/heating/port/output/"+t.refcd,t.value,{headers:{"Content-Type":"application/json"}}).then(e=>{for(let a=0;a<e.data.length;a++)for(let n=0;n<this.outputPins.length;n++)this.outputPins[n].refcd===e.data[a]&&(this.outputPins[n].value=!1);d.hide()}).catch(e=>{d.hide(),console.log(e)})}},mounted(){this.active=!0,this.loadCurrentState()},beforeUnmount(){this.active=!1}},at={class:"marginLeft5rem marginTop5rem"},lt=["href"],nt={key:1},ut=["href"],st={key:1};function it(t,e,a,n,o,_){return r(),i("div",at,[u(P,{modelValue:o.state,"onUpdate:modelValue":e[0]||(e[0]=l=>o.state=l),label:"Stav servisného módu",onInput:_.handleStateChange},null,8,["modelValue","onInput"]),m("div",null,[e[3]||(e[3]=m("br",null,null,-1)),e[4]||(e[4]=m("br",null,null,-1)),u(S,{inline:"",class:"marginLeft5rem"},{default:s(()=>[u(p,null,{default:s(()=>e[1]||(e[1]=[b(" Vstupy ",-1)])),_:1,__:[1]}),u(p,null,{default:s(()=>[(r(!0),i(V,null,k(o.inputPins,(l,c)=>(r(),i("div",{key:c},[u(P,{class:"paddingBottom",modelValue:l.value,"onUpdate:modelValue":h=>l.value=h,disable:!0},{default:s(()=>[l.url!=="#"?(r(),i("a",{key:0,href:l.url,target:"_blank"},v(l.name),9,lt)):g("",!0),l.url==="#"?(r(),i("span",nt,v(l.name),1)):g("",!0)]),_:2},1032,["modelValue","onUpdate:modelValue"])]))),128))]),_:1})]),_:1}),u(S,{inline:"",class:"marginLeft5rem"},{default:s(()=>[u(p,null,{default:s(()=>e[2]||(e[2]=[b(" Výstupy ",-1)])),_:1,__:[2]}),u(p,null,{default:s(()=>[(r(!0),i(V,null,k(o.outputPins,(l,c)=>(r(),i("div",{key:c},[u(P,{class:"paddingBottom",modelValue:l.value,"onUpdate:modelValue":h=>l.value=h,disable:!o.state,onInput:h=>_.toggleOutputState(l)},{default:s(()=>[l.url!=="#"?(r(),i("a",{key:0,href:l.url,target:"_blank"},v(l.name),9,ut)):g("",!0),l.url==="#"?(r(),i("span",st,v(l.name),1)):g("",!0)]),_:2},1032,["modelValue","onUpdate:modelValue","disable","onInput"])]))),128))]),_:1})]),_:1})])])}const rt=w(et,[["render",it]]),ot={components:{Solar:Z,Watering:tt,Heating:rt}},dt={class:"marginLeft5rem marginTop5rem"};function ht(t,e,a,n,o,_){const l=T("solar"),c=T("heating"),h=T("watering");return r(),i("div",dt,[u($,null,{default:s(()=>[u(C,{label:"Domov",to:"/"}),u(C,{label:"Nastavenia",to:"/?tabValue=settings"}),u(C,{label:"Servisné menu",to:"/ServiceMode"})]),_:1}),e[0]||(e[0]=m("br",null,null,-1)),u(x,{value:"solar"},{default:s(()=>[u(y,{name:"solar",label:"Solár",default:""}),u(y,{name:"heating",label:"Kúrenie"}),u(y,{name:"watering",label:"Zavlažovanie"})]),_:1}),u(j,{"model-value":"solar",animated:""},{default:s(()=>[u(I,{name:"solar"},{default:s(()=>[u(l)]),_:1}),u(I,{name:"heating"},{default:s(()=>[u(c)]),_:1}),u(I,{name:"watering"},{default:s(()=>[u(h)]),_:1})]),_:1})])}const bt=w(ot,[["render",ht]]);export{bt as default};
