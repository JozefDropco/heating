import{Q as f,a as o}from"./QBreadcrumbs-jZRV3jE-.js";import{Q as s}from"./QCheckbox-DJMVJ3RH.js";import{Q as g}from"./QTable-yHvZyNqv.js";import{_ as p,P as u}from"./_plugin-vue_export-helper-BsH4dlGH.js";import{a as c}from"./index-NIGUFBhG.js";import{i as b,j as S,k as r,l as h,m}from"./index-m4Lflbw8.js";import"./selection-BDbhJi07.js";const v={data(){return{tableData:[],inputPins:[],pagination:{sortBy:null,descending:!1,page:1,rowsPerPage:10},rowSelected:[],wateringColumns:[{name:"Id",required:!0,label:"Id",align:"left",field:"id",sortable:!0},{name:"RefCd",required:!0,label:"Unikátny identifikátor",align:"left",field:"zoneRefCode",sortable:!0},{name:"Name",required:!0,label:"Meno",align:"left",field:"name",sortable:!0},{name:"Mod",required:!0,label:"Modulo",align:"left",field:"modulo",sortable:!0},{name:"Reminder",required:!0,label:"Deň",align:"left",field:"reminder",sortable:!0},{name:"firstTime",required:!0,label:"1. čas",align:"left",field:function(e){return e.hour.toString().padStart(2,"0")+":"+e.minute.toString().padStart(2,"0")},sortable:!0,style:"width: 50px"},{name:"secondTime",required:!0,label:"2. čas",align:"left",field:function(e){return e.retryHour!==void 0?e.retryMinute!==void 0?e.retryHour.toString().padStart(2,"0")+":"+e.retryMinute.toString().padStart(2,"0"):e.retryHour.toString().padStart(2,"0")+":"+e.minute.toString().padStart(2,"0"):e.retryMinute!==void 0?e.hour.toString().padStart(2,"0")+":"+e.retryMinute.toString().padStart(2,"0"):""},sortable:!0},{name:"duration",required:!0,label:"Trvanie",align:"left",field:function(e){var t=e.timeInSeconds,n=t%60;if(t-=n,t=t/60,t===0)return n+"s";var i=t%60;return t-=i,t=t/60,t===0&&n>0?i+"min "+n+"s":t===0?i+"min":t+"h "+i+"min "+n+"s"},sortable:!0},{name:"active",required:!0,label:"Aktívne",align:"left",field:function(e){return e.active?"Áno":"Nie"},sortable:!0}]}},methods:{loadCurrentState(){u.show(),c.get("ws/watering").then(e=>{this.tableData=e.data,u.hide()}).catch(e=>{u.hide(),console.log(e)})},editWatering(){this.$router.push({path:`/Watering/${this.rowSelected[0].id}`})},addWatering(){this.$router.push({path:"/addWatering"})},mounted(){this.loadCurrentState()}}},k={class:"marginLeft5rem marginTop5rem"};function y(e,t,n,i,a,d){return S(),b("div",k,[r(f,null,{default:m(()=>[r(o,{label:"Domov",to:"/"}),r(o,{label:"Nastavenia",to:"/?tabValue=settings"}),r(o,{label:"Zavlažovanie",to:"/Watering"})]),_:1}),t[2]||(t[2]=h("br",null,null,-1)),r(g,{pagination:a.pagination,"onUpdate:pagination":t[0]||(t[0]=l=>a.pagination=l),dense:!0,selection:"single",selected:a.rowSelected,"onUpdate:selected":t[1]||(t[1]=l=>a.rowSelected=l),title:"Zavlažovanie",rows:a.tableData,columns:a.wateringColumns,"row-key":"id"},{"top-right":m(()=>[r(s,{icon:"edit",label:"Upraviť",onClick:d.editWatering},null,8,["onClick"]),r(s,{icon:"add",label:"Pridať",onClick:d.addWatering},null,8,["onClick"])]),_:1},8,["pagination","selected","rows","columns"])])}const w=p(v,[["render",y]]);export{w as default};
