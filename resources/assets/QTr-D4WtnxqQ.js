import{e as m,f as y,h as s,O as w,g as q,r as b,P as M,n as E,Q as H}from"./index-m4Lflbw8.js";import{d as V}from"./QTable-yHvZyNqv.js";import{Q as h}from"./QCheckbox-DJMVJ3RH.js";const T=m({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(e,{slots:n}){const t=q(),o=y(()=>"q-td"+(e.autoWidth===!0?" q-table--col-auto-width":"")+(e.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(e.props===void 0)return s("td",{class:o.value},w(n.default));const r=t.vnode.key,c=(e.props.colsMap!==void 0?e.props.colsMap[r]:null)||e.props.col;if(c===void 0)return;const{row:u}=e.props;return s("td",{class:o.value+c.__tdClass(u),style:c.__tdStyle(u)},w(n.default))}}});function i(e,n=new WeakMap){if(Object(e)!==e)return e;if(n.has(e))return n.get(e);const t=e instanceof Date?new Date(e):e instanceof RegExp?new RegExp(e.source,e.flags):e instanceof Set?new Set:e instanceof Map?new Map:typeof e.constructor!="function"?Object.create(null):e.prototype!==void 0&&typeof e.prototype.constructor=="function"?e:new e.constructor;if(typeof e.constructor=="function"&&typeof e.valueOf=="function"){const o=e.valueOf();if(Object(o)!==o){const r=new e.constructor(o);return n.set(e,r),r}}return n.set(e,t),e instanceof Set?e.forEach(o=>{t.add(i(o,n))}):e instanceof Map&&e.forEach((o,r)=>{t.set(r,i(o,n))}),Object.assign(t,...Object.keys(e).map(o=>({[o]:i(e[o],n)})))}const D=m({name:"QPopupEdit",props:{modelValue:{required:!0},title:String,buttons:Boolean,labelSet:String,labelCancel:String,color:{type:String,default:"primary"},validate:{type:Function,default:()=>!0},autoSave:Boolean,cover:{type:Boolean,default:!0},disable:Boolean},emits:["update:modelValue","save","cancel","beforeShow","show","beforeHide","hide"],setup(e,{slots:n,emit:t}){const{proxy:o}=q(),{$q:r}=o,c=b(null),u=b(""),l=b("");let v=!1;const _=y(()=>M({initialValue:u.value,validate:e.validate,set:d,cancel:f,updatePosition:S},"value",()=>l.value,a=>{l.value=a}));function d(){e.validate(l.value)!==!1&&(p()===!0&&(t("save",l.value,u.value),t("update:modelValue",l.value)),g())}function f(){p()===!0&&t("cancel",l.value,u.value),g()}function S(){E(()=>{c.value.updatePosition()})}function p(){return H(l.value,u.value)===!1}function g(){v=!0,c.value.hide()}function O(){v=!1,u.value=i(e.modelValue),l.value=i(e.modelValue),t("beforeShow")}function Q(){t("show")}function j(){v===!1&&p()===!0&&(e.autoSave===!0&&e.validate(l.value)===!0?(t("save",l.value,u.value),t("update:modelValue",l.value)):t("cancel",l.value,u.value)),t("beforeHide")}function B(){t("hide")}function C(){const a=n.default!==void 0?[].concat(n.default(_.value)):[];return e.title&&a.unshift(s("div",{class:"q-dialog__title q-mt-sm q-mb-sm"},e.title)),e.buttons===!0&&a.push(s("div",{class:"q-popup-edit__buttons row justify-center no-wrap"},[s(h,{flat:!0,color:e.color,label:e.labelCancel||r.lang.label.cancel,onClick:f}),s(h,{flat:!0,color:e.color,label:e.labelSet||r.lang.label.set,onClick:d})])),a}return Object.assign(o,{set:d,cancel:f,show(a){c.value?.show(a)},hide(a){c.value?.hide(a)},updatePosition:S}),()=>{if(e.disable!==!0)return s(V,{ref:c,class:"q-popup-edit",cover:e.cover,onBeforeShow:O,onShow:Q,onBeforeHide:j,onHide:B,onEscapeKey:f},C)}}}),R=m({name:"QTr",props:{props:Object,noHover:Boolean},setup(e,{slots:n}){const t=y(()=>"q-tr"+(e.props===void 0||e.props.header===!0?"":" "+e.props.__trClass)+(e.noHover===!0?" q-tr--no-hover":""));return()=>s("tr",{style:e.props?.__trStyle,class:t.value},w(n.default))}});export{R as Q,T as a,D as b};
