import{Q as g,a as w}from"./QBreadcrumbs-jZRV3jE-.js";import{a as h,Q as v}from"./QCheckbox-DJMVJ3RH.js";import{Q,a as u,b as V}from"./QTr-D4WtnxqQ.js";import{Q as m}from"./QInput-5Rg7EszB.js";import{Q as P,b as T,a as I}from"./QTable-yHvZyNqv.js";import{Q as k,a as S}from"./QToolbar-DE-mgoJU.js";import{Q as _,a as U}from"./QCard-Cecu7SEl.js";import{Q as j,C}from"./ClosePopup-CSHPXiyK.js";import{_ as M,P as c}from"./_plugin-vue_export-helper-BsH4dlGH.js";import{a as p}from"./index-NIGUFBhG.js";import{i as x,j as B,k as l,l as D,m as o,p as i,u as f,C as y}from"./index-m4Lflbw8.js";import"./selection-BDbhJi07.js";const Z={data(){return{name:"",refCd:"",orderId:1,adjustmentTemp:0,deviceId:"",selected:[],freeDeviceIds:[],addPopupDisplayed:!1,tempSeries:[],fromDate:new Date,toDate:new Date,tempColumns:[{name:"name",label:"Pomenovanie meracieho miesta",align:"left",field:"name",sortable:!0},{name:"refCd",label:"Unikátny kľúč",align:"left",field:"refCd",sortable:!0},{name:"orderId",label:"Poradie",align:"left",field:"orderId",sortable:!0},{name:"deviceId",label:"ID zariadenia",align:"left",field:"deviceId",sortable:!0}],data:[]}},methods:{loadCurrentState(){c.show(),p.get("ws/temp/measurePlace").then(t=>{this.data=t.data,c.hide()}).catch(t=>{c.hide(),console.log(t)}),p.get("ws/temp/freeDeviceIds").then(t=>{for(var a=new Array,s=0;s<t.data.length;s++)a.push({value:t.data[s],label:t.data[s]});this.freeDeviceIds=a,c.hide()}).catch(t=>{c.hide(),console.log(t)})},saveMeasureplace(){let t={};t.name=this.name,t.deviceId=this.deviceId,t.adjustmentTemp=this.adjustmentTemp,t.orderId=this.orderId,p.post("ws/temp/measurePlace",t,{method:"post"}).then(()=>{this.loadCurrentState()}).catch(a=>{console.log(a)})},editMeasureplace(t){p.put("ws/temp/measurePlace/"+t.refCd,t,{method:"PUT"}).then(()=>{this.loadCurrentState()}).catch(a=>{console.log(a)})},deleteMeasurePlace(){p.delete("ws/temp/measurePlace/"+this.selected[0].refCd).then(()=>{this.loadCurrentState()}).catch(t=>{console.log(t)})}},mounted(){let t=new Date;t.setDate(this.fromDate.getDate()-7),this.fromDate=t,this.loadCurrentState()}},z={style:{"margin-top":"20px"}},N={class:"layout-padding"};function E(t,a,s,A,r,n){return B(),x("div",z,[l(g,null,{default:o(()=>[l(w,{label:"Domov",to:"/"}),l(w,{label:"Nastavenia",to:"/?tabValue=settings"}),l(w,{label:"Teploty",to:"/Temperature"})]),_:1}),a[9]||(a[9]=D("br",null,null,-1)),l(P,{color:"primary",dense:"",title:"Meracie miesta",selected:r.selected,"onUpdate:selected":a[1]||(a[1]=e=>r.selected=e),selection:"single","row-key":"refCd",rows:r.data,columns:r.tempColumns},{"top-right":o(()=>[l(v,{icon:"delete",disable:r.selected.length===0,label:"Vymazať",onClick:n.deleteMeasurePlace},null,8,["disable","onClick"]),l(v,{disable:r.freeDeviceIds.length===0,icon:"add",label:"Pridať",onClick:a[0]||(a[0]=e=>r.addPopupDisplayed=!0)},null,8,["disable"])]),body:o(e=>[l(Q,{props:e},{default:o(()=>[l(u,{"auto-width":""},{default:o(()=>[l(h,{dense:"",modelValue:e.selected,"onUpdate:modelValue":d=>e.selected=d},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l(u,{key:"name",props:e},{default:o(()=>[i(f(e.row.name)+" ",1),l(V,{modelValue:e.row.name,"onUpdate:modelValue":d=>e.row.name=d,title:"Upraviť",buttons:"","label-set":"Uložiť","label-cancel":"Zavrieť",onSave:(d,b)=>n.editMeasureplace(e.row)},{default:o(()=>[l(m,{"float-label":"Pomenovanie",modelValue:e.row.name,"onUpdate:modelValue":d=>e.row.name=d},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["modelValue","onUpdate:modelValue","onSave"])]),_:2},1032,["props"]),l(u,{key:"refCd",props:e},{default:o(()=>[i(f(e.row.refCd),1)]),_:2},1032,["props"]),l(u,{key:"orderId",props:e},{default:o(()=>[i(f(e.row.orderId)+" ",1),l(V,{modelValue:e.row.orderId,"onUpdate:modelValue":d=>e.row.orderId=d,title:"Upraviť",buttons:"","label-set":"Uložiť","label-cancel":"Zavrieť",onSave:(d,b)=>n.editMeasureplace(e.row)},{default:o(()=>[l(m,{"float-label":"Poradie",modelValue:e.row.orderId,"onUpdate:modelValue":d=>e.row.orderId=d,type:"number"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["modelValue","onUpdate:modelValue","onSave"])]),_:2},1032,["props"]),l(u,{key:"adjustmentTemp",props:e},{default:o(()=>[i(f(e.row.adjustmentTemp)+" ",1),l(V,{modelValue:e.row.adjustmentTemp,"onUpdate:modelValue":d=>e.row.adjustmentTemp=d,title:"Upraviť",buttons:"","label-set":"Uložiť","label-cancel":"Zavrieť",onSave:(d,b)=>n.editMeasureplace(e.row)},{default:o(()=>[l(m,{"float-label":"Úprava teploty o",modelValue:e.row.adjustmentTemp,"onUpdate:modelValue":d=>e.row.adjustmentTemp=d,type:"number"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["modelValue","onUpdate:modelValue","onSave"])]),_:2},1032,["props"]),l(u,{key:"deviceId",props:e},{default:o(()=>[i(f(e.row.deviceId)+" ",1),l(V,{modelValue:e.row.deviceId,"onUpdate:modelValue":d=>e.row.deviceId=d,persistent:"",title:"Upraviť",buttons:"","label-set":"Uložiť","label-cancel":"Zavrieť",onSave:(d,b)=>n.editMeasureplace(e.row)},{default:o(()=>[l(I,{"stack-label":"ID zariadenia",options:r.freeDeviceIds,modelValue:e.row.deviceId,"onUpdate:modelValue":d=>e.row.deviceId=d},null,8,["options","modelValue","onUpdate:modelValue"])]),_:2},1032,["modelValue","onUpdate:modelValue","onSave"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["selected","rows","columns"]),l(T,{modelValue:r.addPopupDisplayed,"onUpdate:modelValue":a[7]||(a[7]=e=>r.addPopupDisplayed=e),"auto-close":""},{default:o(()=>[l(_,null,{default:o(()=>[l(U,null,{default:o(()=>[l(k,null,{default:o(()=>[l(S,null,{default:o(()=>a[8]||(a[8]=[i(" Pridať meracie miesto ",-1)])),_:1,__:[8]})]),_:1})]),_:1}),l(U,null,{default:o(()=>[D("div",N,[l(m,{"stack-label":"Meno",modelValue:r.name,"onUpdate:modelValue":a[2]||(a[2]=e=>r.name=e)},null,8,["modelValue"]),l(m,{"stack-label":"Poradie",modelValue:r.orderId,"onUpdate:modelValue":a[3]||(a[3]=e=>r.orderId=e)},null,8,["modelValue"]),l(m,{"stack-label":"Úprava teploty o",modelValue:r.adjustmentTemp,"onUpdate:modelValue":a[4]||(a[4]=e=>r.adjustmentTemp=e)},null,8,["modelValue"]),l(I,{"stack-label":"ID zariadenia",options:r.freeDeviceIds,modelValue:r.deviceId,"onUpdate:modelValue":a[5]||(a[5]=e=>r.deviceId=e)},null,8,["options","modelValue"])])]),_:1}),l(j,null,{default:o(()=>[y(l(v,{color:"primary",label:"Uložiť",onClick:a[6]||(a[6]=e=>n.saveMeasureplace())},null,512),[[C]]),y(l(v,{color:"primary",label:"Zavrieť"},null,512),[[C]])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const $=M(Z,[["render",E]]);export{$ as default};
